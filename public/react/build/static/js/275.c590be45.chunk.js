webpackJsonp([275],{

/***/ 4513:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router_dom__ = __webpack_require__(48);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_axios__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_axios__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__tpm_challengesnew_TPMMDEditor__ = __webpack_require__(320);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_educoder__ = __webpack_require__(5);
var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var TPMUpdatepropaede=function(_Component){_inherits(TPMUpdatepropaede,_Component);function TPMUpdatepropaede(props){_classCallCheck(this,TPMUpdatepropaede);var _this=_possibleConstructorReturn(this,(TPMUpdatepropaede.__proto__||Object.getPrototypeOf(TPMUpdatepropaede)).call(this,props));_this.updatepropaedeuticsvalue=function(){var id=_this.props.match.params.shixunId;var shixunId=_this.state.shixunId;var url="/shixuns/"+id+"/update_propaedeutics.json";var update_propaedeuticsvalue=_this.neweditanswerRef.current.getValue().trim();__WEBPACK_IMPORTED_MODULE_2_axios___default.a.post(url,{content:update_propaedeuticsvalue}).then(function(response){if(response.data.status===403||response.data.status===401||response.data.status===500){}else{_this.props.showNotification(response.data.message);if(response.data.status===1){_this.props.history.replace("/shixuns/"+shixunId+"/propaedeutics");}}}).catch(function(error){console.log(error);});};_this.neweditanswerRef=__WEBPACK_IMPORTED_MODULE_0_react___default.a.createRef();_this.state={shixunId:undefined};return _this;}_createClass(TPMUpdatepropaede,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;var id=this.props.match.params.shixunId;var url="/shixuns/"+id+"/propaedeutics.json";__WEBPACK_IMPORTED_MODULE_2_axios___default.a.get(url).then(function(response){if(response.data.status===403||response.data.status===401||response.data.status===500){}else{_this2.setState({shixunId:id});if(response.data.content[0]!=null){_this2.setState({editanswersRefval:response.data.content});_this2.neweditanswerRef.current.setValue(response.data.content);}else{_this2.setState({editanswersRefval:""});_this2.neweditanswerRef.current.setValue('');}}}).catch(function(error){console.log(error);});}},{key:'render',value:function render(){var shixunId=this.state.shixunId;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Fragment,null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'educontent'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'edu-back-white mt30'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'font-16 pt20 pl20 pr20 pb20 bor-bottom-greyE clearfix'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',{className:'fl'},'\u80CC\u666F\u77E5\u8BC6'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_react_router_dom__["b" /* Link */],{to:"/shixuns/"+shixunId+"/propaedeutics",className:'color-grey-9 fr'},'\u8FD4\u56DE')),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'padding40-20'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3__tpm_challengesnew_TPMMDEditor__["a" /* default */],{ref:this.neweditanswerRef,placeholder:'\u8BF7\u8F93\u5165\u9009\u62E9\u9898\u7684\u9898\u5E72\u5185\u5BB9',mdID:'editquestioMDid',refreshTimeout:1500,needRecreate:true,watch:true,className:'courseMessageMD',initValue:this.neweditanswerRefval}))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'clearfix mb30 mt30'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('a',{className:'defalutSubmitbtn fl mr20',onClick:this.updatepropaedeuticsvalue},'\u4FDD\u5B58'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_react_router_dom__["b" /* Link */],{to:"/shixuns/"+shixunId+"/propaedeutics",className:'defalutCancelbtn fl'},'\u53D6\u6D88'))));}}]);return TPMUpdatepropaede;}(__WEBPACK_IMPORTED_MODULE_0_react__["Component"]);/* harmony default export */ __webpack_exports__["default"] = (TPMUpdatepropaede);

/***/ })

});